--- 
layout: post
title: Translate "The Algorithmic Foundations of Differential Privacy"
description: Chapter2/Section3 
date: 2018-05-27 
author: ShixiongMarryMe  
link: 
comments: false
photos:
    -
categories:
    - Differential Privacy
tags: 
    - Translation
--- 

>Author: &#160;&#160;&#160;&#160;&#160;@Cynthia Dwork &#160;&#160;@Aaron Roth
>
>Translator: @ShixiongMarryMe

## 2.3 形式化差分隐私

我们将从差分隐私的技术定义开始，继而对其进行解释。差分隐私将通过一个过程来提供隐私保护。特别是它会引入随机性。随机过程关于隐私的一个早期例子是随机反应，这是一种在社会科学中开发的技术，用于收集关于尴尬或非法行为的统计信息，通过拥有特性*P*来捕获。研究的参与者被告知要报告他们是否拥有如下的特性*P*：

1.翻转一枚硬币。

2.如果是**尾巴**（正面），然后如实回复。

3.如果是**头**（背面），然后翻转第二个硬币，如果是头，则回答“是”，如果是尾，则回答“否”。

 “隐私”来自对任何结果的合理否认；特别是如果把具有特性P等价于从事非法行为的话，即便是一个肯定的回答也没有入罪，因为不管被访者是否实际上具有特性P，这个答案的出现概率至少为1/4。准确性来自于对噪音产生程序的理解(所引入的虚假的“是”和“否”答案来自随机化)：预期的“是”答案的数量是(1/4)\*(没有特性P的参与者的数量)+(3/4)\*(有特性P的参与者数量)。因此，如果小p是具有属性P的参与者的真实数量 _（ true fraction 给出原文）_，则预期的“是”答案的数量是(1/4)\*(1-p)+(3/4)\*p =(1 /4)+ p / 2。 因此，我们可以将小p估计为回答“是”的数量的两倍再减去1/2，即2((1/4)+ p / 2) - 1/2。

随机化是必不可少的; 更准确地说，无论所有当前或未来的辅助信息来源(包括其他数据库，研究，网站，在线社区，八卦，报纸，政府统计等)都可以使用的任何实用的隐私保障都需要随机化。这是从我们现在简单描述的一个简单的混合论点开始的。假设为了产生矛盾，我们有一个实用的确定性算法。实用性认为存在一个查询和两个数据库，在该查询下产生不同的输出。但一次更改一行，我们发现存在一对不同的数据库，只有一行的值不同，相同的查询产生不同的输出。对手知道正确的数据库是这两个几乎相同的数据库中的一个，但只是知道一个未知行中数据的值。

因此，我们需要讨论随机算法的输入和输出空间。 在整篇专著中，我们使用离散概率空间。 有时我们会将我们的算法描述为连续分布的采样，但这些算法应该始终以适当谨慎的方式离散化为有限精度(参见下面的备注2.1)。通常，具有域A和(离散)范围B的随机化算法将与一个从A到B上概率单纯形的映射_（a mapping from A to the probability simplex over B，不会翻译，给出原文）_相关联，记为Δ(B)：

**定义2.1**(概率单纯形 Probability Simplex)。 给定一个离散集B，其上的概率单纯形记为Δ(B)，定义为：

![2.1.png](https://i.loli.net/2018/05/28/5b0b655799e74.png)

**定义2.2**（随机算法）。 随机化算法M：具有域A和离散范围B的，其映射M：A→Δ(B)。在输入a∈A时，对每个b∈B，算法M以概率(M(a))<sub>b</sub>输出M(a)=b。算法M的概率空间在硬币翻转之上（The probability space is over the coin flips of the algorithm M@ShixiongMarryMe.不会翻译，附上原文）。

我们将数据库x视为来自所有 χ 的记录集合。通过直方图表示数据库通常很方便：
x∈N<sup>|χ|</sup>，其中每个条目xi表示数据库x中元素的数量，其中i∈ χ （我们稍微滥用记号，用符号N表示包括零在内的所有非负整数的集合）。在这个表示中，两个数据库x和y之间自然度量的距离将是它们的ℓ1距离：

![2.3.png](https://i.loli.net/2018/05/28/5b0c03248f901.png)

两个数据库x和y之间的ℓ1距离是`‖`x-y`‖`<sub>1</sub>

请注意，`‖`x`‖`<sub>1</sub>是数据库x的大小(即它包含的记录的数量)的度量，并且`‖`x-y`‖`<sub>1</sub>是x和y之间有多少记录不同的度量。

数据库也可以由多行(X的元素)或甚至有序的行列表来表示，这里有集合的一种特殊情况，其中的行号成为元素名称的一部分。在这种情况下，数据库之间的距离通常通过汉明距离来衡量，即它们不同的行数。

但是，除非另有说明，否则我们将使用上述的直方图表示法。（但是请注意，即使直方图符号在数学上更方便，在实际实现中，多重集合表示通常会更加简洁）。

我们现在准备好正式定义差分隐私，这将直观地保证随机算法在类似的输入数据库上表现相近。

**定义2.4**(差分隐私)。如果对所有的S⊆Range(M)和对于所有的x，y∈N<sup>|X|</sup>≤1使得`‖`x-y`‖`<sub>1</sub>≤1，那么具有域N<sup>|X|</sup>≤1的随机化算法M满足(ε,δ)差分隐私：

![2.4.png](https://i.loli.net/2018/05/28/5b0c0558e0e84.png)

其中机制M的概率空间在硬币翻转之上 _（ the probability space is over the coin flips of the mechanism M. 不会翻译，附上原句）_。如果δ= 0，我们说M是ε-差分隐私。

通常我们感兴趣的是δ值小于数据库大小的任何多项式的倒数。特别当δ值大约为1 /‖x‖1时是非常危险的：它们通过发布少量数据库参与者的完整记录来允许“保护隐私” - 正是在第1章中讨论的“少数”哲学。

然而，即使δ可以忽略不计，（ε，0）-差分隐私与（ε，δ）-差分隐私之间也存在理论上的区别。 这其中的主要区别就是量化顺序的切换。（ε，0）-差分隐私确保了对于机制M（x）的每次运行，所观察到的输出（几乎）同样可能在每个相邻的数据库上同时被观察到。 相反，（ε，δ）-差分隐私表示，对于每一对相邻的数据库x，y，事后观察值M（x）极不可能在当数据库是x时比数据库是y时产生更多或更少。 然而，给定一个输出ξ〜M（x），有可能找到一个数据库y，使得ξ更有可能在y上产生，而不是在数据库为x时产生@师兄嫁我。 也就是说，分布M（y）中ξ的数量可能远大于其分布M（x）中的数量。

这数量

![1529219578(1).png](https://i.loli.net/2018/06/17/5b260a92e72f0.png)

对我们很重要; 我们称之为由观察ξ引起的隐私损失。这种损失可能是正值(当事件更可能发生在x而不是y时)或者可能是负面的(当事件更可能发生在y而不是x时)。 正如我们将在引理3.17中看到的那样，(ε，δ) –差分隐私确保了对于所有相邻的x，y，隐私损失的绝对值将以ε界定，其概率至少为1-δ。 与往常一样，概率空间位于机制M的硬币之上 _（As always, the probability space iss of the mechanism M.附原句，此句不会翻译）_。

差分隐私不受后处理影响：数据分析师在没有关于私有数据库的额外知识的情况下，无法计算私有算法M输出的函数，并且无法使其不那么具有私密性。 也就是说，如果一种算法保护个人的隐私，那么无论是在正式定义下还是在任何直观的意义上，数据分析师不能增加隐私损失，只需坐在角落并考虑算法的输出。 形式上，具有（ε，δ）-差分隐私算法M的数据无关映射f的组成也是（ε，δ）差分隐私：

**命题2.1**(后处理)。 令M：N<sup>|X|</sup>→R是满足(ε，δ)-差分隐私的随机算法，f:R→R'是一个任意的随机映射。则f◦M：N<sup>|X|</sup> →R'满足(ε，δ) -差分隐私。

证明。 暂略，详见原著第19页。

从定义2.4立即可以看出，（ε，0）-差分隐私以直接的方式构成：两个（ε，0）-差分隐私机制的组合是（2ε，0）-差分隐私。更一般地说（定理3.16），“ε和δ增加”：对于1≤i≤k，第i个机制是（ε<sub>i</sub>，δ<sub>i</sub>）-差分隐私机制的组成是（Σ<sub>i</sub>ε<sub>i</sub>，Σ<sub>i</sub>δ<sub>i</sub>）-差分隐私。

(ε，0) –差分隐私的群体隐私机制也在定义2.4中立即出现，隐私保证的强度随群组的增大线性下降。_（with the strength of the privacy guarantee drops linearly with the size of the group@ShixiongMarryMe.附原句）_

定理2.2。 对于所有的`‖`x-y`‖`<sub>1</sub>≤k和所有的S⊆Range（M），群体的大小为k，任何满足（ε，0）-差分隐私机制M都是（kε, 0）-差分隐私。

Pr[m(x)∈S] ≤exp(kε) Pr[m(y)∈S],

其中概率空间超过机制M的硬币翻转 _（where the probability space is over the coin flips of the mechanism M.附原句）_。

例如，这涉及到包含多个家庭成员的调查中的隐私问题。

更一般地说，组合和群体隐私不是同一件事情@师兄嫁我，第3.5.2节（定理3.20）中改进的组合边界大大改善了k因子，但即使当δ= 0时,不能（也做不到）为群体隐私产生同样的收益。

### 2.3.1 差分隐私承诺什么

经济学观点。差分隐私有望保护个人免受因为他们的数据位于私人数据库x中所可能面临的任何额外损害，如果他们的数据未成为x的一部分，他们将不会面临这些损害。虽然一旦差分隐私机制M的结果M（x）被释放，个人可能确实面临伤害，但是差分隐私承诺伤害的概率不会因为他们选择参与而显着增加。这是一个非常实用的隐私定义，因为当一个人决定是否将她的数据包含在一个将以不同的隐私方式使用的数据库中时，她会正在考虑这样一种差异：她参与其中受到伤害的可能性，较之于她没有参与而受到伤害的可能性。她无法控制数据库的其余内容。考虑到差分隐私的承诺，从未来的伤害角度来看，她确信她应该几乎对是否参与而漠不关心。给予任何激励 - 从利他主义到金钱奖励 - 差分隐私可以说服她允许使用她的数据。这种直觉可以在实用主义理论意义上形式化，我们在这里简要描述。

考虑一个对所有可能的未来事件集合具有任意偏好的个体i，我们用A表示的。这些偏好表示为效用函数u<sub>i</sub>：A→R≥0， 并且我们说，在a∈A出现的情况下，个体i满足效应函数u<sub>i</sub>(a)∈A _（we say that individual i experiences utility ui(a) in the event that a∈A comes to pass@ShixiongMarryMe. 附原句）_ 。假设x∈N<sup>|X|</supp> 是一个包含个体私人数据的集合 _（Suppose that x∈N<sup>|X|</supp> is a data-set containing individual is private data, ）_ ，而M是一个ε-差分隐私算法。 假设y是一个与x相同的数据集，只是它不包含个体i的数据(特别是`‖`x-y`‖`<sub>1</sub>= 1)，以机制M的输出为条件，设f：Range (M)→Δ(A) 为 （任意）函数，它决定未来事件A的分布。通过保证差分隐私以及命题2.1保证的任意后处理的恢复能力，我们有：

![1529226919(1).png](https://i.loli.net/2018/06/17/5b2626c312dbb.png)

因此，通过承诺ε-差分隐私的保证，数据分析师可以向个人保证他的预期未来效用不会受到超过exp（ε）≈（1 +ε）因子的损害。请注意，该承诺独立于个人效用函数u<sub>i</sub>，并且同时适用于可能具有完全不同效用函数的多个人。

### 2.3.2 什么是差分隐私不承诺的

正如我们在“吸烟致癌案例”中看到的那样，差别隐私是一个极其有力的保证，但它并不保证无条件的免于伤害。它也不会创造以前没有的隐私。更一般地说，差分隐私并不能保证人们相信自己的秘密将保持秘密。它仅仅确保参与调查的人本身不会被披露，参与人员也不会披露任何对调查有贡献的细节。调查得出的结论很可能反映了有关个人的统计信息。旨在发现特定疾病的早期指标的健康调查可能会产生强烈甚至决定性的结果@师兄嫁我；这些结论对于一个给定的个人并不是差分隐私侵犯的证据；个人可能甚至没有参与过调查（再一次重申，差分隐私确保以非常相似的概率获得这些结论性的结果，而不管个人是否参与调查）。特别是，如果调查告诉我们特定的私人属性与公众可观察到的属性强烈相关，这不会违反差分隐私，因为这种相同的相关性将以几乎相同的概率被观察到，而与受访者的存在或不存在无关。

**差分隐私的定性属性**。在介绍并正式确定差分隐私之后，我们重申其关键的理想品质。

1.防范任意风险，超越保护以防重新识别 _（moving beyond protection against reidentification@ShixiongMarryMe.附原句）_。

2.自动中和联合攻击，包括所有尝试使用一切过去，现在和未来数据集以及其他形式和辅助信息来源的联合攻击。

3.隐私损失的量化。差分隐私不是一个二元的概念，并且有一个隐私损失的度量。其允许不同技术之间的比较：对于隐私损失的固定界限，哪种技术提供更好的准确性？对于一个固定的准确度，哪种技术提供更好的隐私？

4.组成。也许最重要的是，量化损失也允许分析和控制多次计算中的累积隐私损失。理解在组合下的差分隐私机制的行为使得能够从更简单的差分隐私构建块中设计和分析复杂的差分隐私算法。

5.群体隐私。差分隐私允许分析和控制团体（例如家庭）造成的隐私损失。

6.后期处理中的封闭差异隐私不受后期处理的限制：数据分析师在没有关于私有数据库的额外知识的情况下，无法计算差分隐私算法M的输出函数，并且使其不那么私密。_（make it less differentially private.附原句）_ 也就是说，无论是在正式定义下，还是在任何直观意义上，数据分析师都无法增加隐私损失，只需坐在角落并思考算法的输出，而不管辅助信息是否可用。

### 2.3.3 关于定义的最后评论

隐私的粒度。 差分隐私声明应仔细审查，以确定保证隐私的粒度级别。 差分隐私承诺即使修改数据库中的单个条目，算法的行为也将大致保持不变。 但是，数据库中的单个条目是什么构成的呢？ 例如考虑采用图形形式的数据库。 这样一个数据库可能会编码一个社交网络：每个个体i∈[n]由图中的顶点表示，个体之间的关系由边表示。

我们可以在与个人相对应的粒度级别上考虑差分隐私：也就是说，我们可以要求差分隐私算法对添加或删除图中任何顶点不敏感。这提供了强大的隐私保证，但实际上可能比我们需要的更强。添加或删除单个顶点可能会在图形中添加或删除多达n条边。根据我们希望从图中学习到的内容，对n个边缘清除的不敏感性可能是一个不可能达到的约束条件。

另一方面，我们可以考虑在对应于边缘的粒度级别上的差分隐私，并要求我们的算法不那么敏感，仅从图形中添加或去除单个或少量的边。这当然是一个较弱的保证，但对某些目的而言可能仍然足够。非正式地说，如果我们在单边的水平上承诺ε-差分隐私，那么没有数据分析员应该能够推断出图中任何1 /ε边的任何子集的存在。在某些情况下，大量的社交联系可能不被视为敏感信息：例如，一个人可能不觉得有必要隐瞒他的大部分联系与他的城市或工作场所中的个人有关的事实，因为他住在哪里以及他在哪里工作是公共信息。另一方面，可能有少数社交联系人的存在非常敏感的（例如，未来的新雇主或亲密的朋友）@师兄嫁我。在这种情况下，边缘隐私应该足以保护敏感信息，同时仍然允许比顶点隐私更全面地分析数据。边缘隐私将保护这样的个人的敏感信息，前提是他的朋友少于1 /ε。

作为另一个例子，差分隐私电影推荐系统可以被设计用来保护在单个电影的“事件”级别上训练集中的数据，隐藏任何单个电影的观看/评级，但不隐藏个体对牛仔西部片或血腥的喜好，或者在“用户”级别的个人的整个查看和评级历史。

所有的小ε都是一样的。当ε很小时，(ε,0)-差分隐私断言对于所有的相邻数据库对x，y和所有输出对o，对手根据观察o不能区分哪个是真正的数据库。当ε很小时，不能实现(ε,0)–差分隐私不一定是令人担忧的。例如，机制可能是(2ε,0) –差分隐私。隐私保证的性质与不同但小的ε非常相似。但是对ε来说什么值是大的？如果不能实现(15,0)–差分隐私，也只能说存在相邻的数据库和一个输出o，以数据库为条件的情况下，分别对x或y观察o，其可能性的比率很大。o的输出可能非常不同 (这通过(ε,δ) -差分隐私解决)；数据库x和y可能是非常可疑的，并且可能发生在“现实世界”中。对手可能没有正确的辅助信息来识别已经发生的泄露输出；或者可能不知道数据库足以确定其对称差异的值。因此，就像一个弱密码系统可能只泄漏一个消息的最低有效位就得到完整的解密密钥一样，(ε,0)-差分隐私或(ε,δ)–差分隐私的失败范围可能从有效的毫无意义隐私泄露到完整的数据库显示。一个大的ε在它自己的样式之后是大的 _（A large ε is large after its own fashion.附原句）_。

**一些额外的形式主义。** 除了数据库x之外，我们的隐私机制M通常会采用一些辅助参数作为输入。 例如，w可以在数据库x上指定查询qw，或者查询的集合Qw。机制M(w，x)可能(分别)用qw(x)的差分隐私近似或Qw中的一些或全部查询来响应。对于所有的δ≥0，我们说如果对于每一个w，M(w，·)满足(ε，δ) –差分隐私，则机制M(·，·)满足(ε，δ)-差分隐私。

可以包含在w中的参数的另一个示例是用于管理δ=δ(κ)的安全参数κ应该是给多小。 也就是说，M(κ，·)应该是(ε，δ(κ))对所有人都是满足差分隐私。 典型地，在整个专论中，例如，我们要求δ在δ = κ<sup>−ω(1)</sup>中是一个可忽略的函数。 因此，我们认为δ是相当小的 _（cryptographically small@ShixiongMarryMe 附原词）_，而ε通常被认为是一个适度的小常量。

在辅助参数w指定查询的集合Q<sub>w</sub> = {q:X<sup>n</sup>→R}的情况下，我们称机制M为概要生成器。概要生成器输出一个(差分隐私)概要A，可用于计算Qw中所有查询的答案。也就是说我们需要存在一个重建过程R，使得对于指定查询q<sub>v</sub>∈Q<sub>w</sub>的每个输入v，重建过程输出R(A，v)∈R。 通常，我们将要求以高概率M产生概要A，使得使用A的重建过程计算准确的答案。也就是说，对于查询q<sub>v</sub>∈Q<sub>vw</sub>的全部或大部分(通过某种分布加权)，误差|`R(A，v)-q<sub>v</sub>(x)`|`将是有界的。 我们偶尔会滥用符号并参考重建过程，将输入的实际查询q(而不是它的某个表示v)作为输入，并输出R(A，q)。

概要的特例是合成数据库。 顾名思义，合成数据库的行与原始数据库的行类型相同。 合成数据库的一个优点是可以使用分析人员在原始数据库上使用的相同软件分析它们，从而避免需要特殊重建程序R. 

**备注2.1。** 由于实现浮点数的细微之处，在编程实值化机制(例如拉普拉斯机制)时必须非常小心。 否则可能破坏差分隐私@师兄嫁我，因为数据库x上的非零概率的输出可能由于舍入而在相邻数据库y上具有零概率。这只是一种实现浮点的方法，在差分隐私的上下文中需要仔细检查，并且它不是唯一的。

## 2.4书目注释

略。

---

不容易啊，拖了这么久，也不知道自己在忙啥，20天才把2.3-2.4节翻译完。
期间折腾了Github blog 到现在是越搞越咋搞（手动捂脸）。
现在折腾完了第二章的翻译，开始继续折腾bolg去啦~~~

绝对值和范式的符号还没找到解决的办法。先用`|`x`|`和`||`x`||`表示，(┬＿┬)。

> <span style="color:orange"> To see more, please visit [<span style="color:blue">Homepage</span>](https://ShixiongMarryMe.github.io/). </span>

> <span style="color:orange"> Connect with me at <span style="color:blue"><shixiongmarryme@gmail.com></span>. </span>

__*欢迎纠正不妥之处，转载敬请注明出处*__





 	↓ This block just for test Mathematical formula
 $$
 \sqrt{3x-1}+(1+x)^2
 $$

 $$h(\theta)=\sum_{j=0}^n \theta_jx_j$$

 &fnof;(x)=x+1

\left| \frac{a}{b} \right|

\left \| \frac{a}{b} \right \|

 &radic;5

30&deg;

z=z_l

\frac{d}{dx}e^{ax}=ae^{ax}\quad \sum_{i=1}^{n}{(X_i - \overline{X})^2}


 	↑ This block just for test Mathematical formula

<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>